<?xml version="1.0" encoding="UTF-8"?>
<sml:SensorML xmlns:gml="http://www.opengis.net/gml" xmlns:sml="http://www.opengis.net/sensorML/1.0" xmlns:swe="http://www.opengis.net/swe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/sensorML/1.0 file:///C:\eclipse_workspace\schema\sensorML\sensorML.xsd" version="1.0">
   <sml:member>
      <sml:ProcessChain gml:id="HYPERION_GEOLOCATION">
 <gml:description>
       This process chain determines HYPERION position vector and the ECEF view vector. This chain is composed of 2 chains,
       one specific to HYPERION, the other is generic.
 </gml:description>
      <gml:name>HYPERION</gml:name>
 <sml:inputs>
    <sml:InputList>
       <sml:input name="swathStartTime">
          <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
             <swe:uom code="s"/>
          </swe:Time>
       </sml:input>
       <sml:input name="pixel">
             <swe:Quantity/>
       </sml:input>
       <sml:input name="frame">
             <swe:Quantity/>
       </sml:input>
       <sml:input name="pointingAngle">
          <swe:Quantity>
             <swe:uom code="rad"/>
             <swe:value>0.0</swe:value>
          </swe:Quantity>
       </sml:input>
    </sml:InputList>
 </sml:inputs>
 <sml:outputs>
    <sml:OutputList>
       <sml:output name="geolocationData">
          <swe:DataRecord>
             <swe:field name="ECEF_location">
                <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                   <swe:coordinate name="x">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                   <swe:coordinate name="y">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                   <swe:coordinate name="z">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                </swe:Vector>
             </swe:field>
             <swe:field name="ECEF_view_vector">
                <swe:Vector definition="urn:ogc:def:data:viewVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                   <swe:coordinate name="x">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                   <swe:coordinate name="y">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                   <swe:coordinate name="z">
                      <swe:Quantity>
                         <swe:uom code="m"/>
                      </swe:Quantity>
                   </swe:coordinate>
                </swe:Vector>
             </swe:field>
          </swe:DataRecord>
       </sml:output>
    </sml:OutputList>
 </sml:outputs>
 <sml:components>
  <sml:ComponentList>    
     <!--~~~~~~~~~~~~~~~~~~-->
     <!--~~~~~~~~~~~~~~~~~~-->
     <!-- 1st chain -->
     <!--~~~~~~~~~~~~~~~~~~-->  
     <!--~~~~~~~~~~~~~~~~~~-->
  <sml:component name="HYPERION_specific">
   <sml:ProcessChain>
      <gml:description>
            This process chain determines the matrix to tansform the sample view vector into the satellite view
            vector in function of the x pixel. This chain is HYPERION SPECIFIC.
      </gml:description>
      <!--~~~~~~~~~~~~~~~~~~-->
      <!-- Inputs & Outputs -->
      <!--~~~~~~~~~~~~~~~~~~-->
       <sml:inputs>
           <sml:InputList>
               <sml:input name="swathStartTime">
                  <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                       <swe:uom code="s"/>
                   </swe:Time>
               </sml:input>
               <sml:input name="pixel">
                   <swe:Quantity/>
               </sml:input>
               <sml:input name="frame">
                   <swe:Quantity/>
               </sml:input>
              <sml:input name="pointingAngle">
                 <swe:Quantity>
                    <swe:uom code="rad"/>
                 </swe:Quantity>
              </sml:input>
           </sml:InputList>
       </sml:inputs>
      <sml:outputs>
         <sml:OutputList>
            <sml:output name="Satellite_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector">
                  <swe:coordinate name="x">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                       <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output> 
            <sml:output name="frameTime">
                 <swe:Quantity/>
             </sml:output>
         </sml:OutputList>
      </sml:outputs>
      <sml:components>
         <sml:ComponentList>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- LUT pixel angle -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="LUTscanAngle">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="pixel">
                              <swe:Quantity/>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="scanAngle">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="interpolationMethod">
                           <swe:Category>
                              <swe:value>linear</swe:value>
                           </swe:Category>
                        </sml:parameter>
                        <sml:parameter name="table">
                           <swe:Curve>
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>2</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType>
                                 <swe:SimpleDataRecord>
                                    <swe:field name="pixel">
                                       <swe:Quantity/>
                                    </swe:field>
                                     <swe:field name="scanAngle">
                                       <swe:Quantity/>
                                    </swe:field>
                                 </swe:SimpleDataRecord>
                              </swe:elementType>
                              <swe:encoding>
                                 <swe:TextBlock tokenSeparator="," blockSeparator=" " decimalSeparator="."/>
                              </swe:encoding>
                              <swe:values>
                                1.0,-0.005497787
                                256.0,0.005497787                           
                              </swe:values>
                           </swe:Curve>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:LUT1D:1.0"/>
               </sml:ProcessModel>
            </sml:component> 
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric to add pointing angle to scan angle -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryAngle">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                           <swe:Quantity/>  
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>addition</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->
             <!-- Matrix builder from sample 2 instrument  -->
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->                     
             <sml:component name="MatrixBuilderInstrument">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="orientation">
                                 <swe:Vector definition="urn:ogc:def:data:orientationVector">
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                            <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                             <swe:uom code="rad"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="posMatrix">
                                 <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                                     <swe:elementCount>
                                         <swe:Count>
                                             <swe:value>9</swe:value>
                                         </swe:Count>
                                     </swe:elementCount>
                                     <swe:elementType name="element">
                                         <swe:Quantity/>
                                     </swe:elementType>
                                 </swe:DataArray>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:method xlink:href="urn:ogc:def:process:pos2Matrix3:1.0"/>
                 </sml:ProcessModel>
             </sml:component>    
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->
             <!--transformation from sample to satellite view vector  -->
             <!--~~~~~~~~~~~~~~~~~~~~~~~-->  
             <sml:component name="VectorMatrixMultiplier">                       
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>  
                             <sml:input name="vector">
                                 <swe:Vector definition="urn:ogc:def:data:viewVector">
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>0.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                             <swe:value>-1.0</swe:value>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:input>            
                             <sml:input name="transformMatrix">
                                 <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                                     <swe:elementCount>
                                         <swe:Count>
                                             <swe:value>9</swe:value>
                                         </swe:Count>
                                     </swe:elementCount>
                                     <swe:elementType name="element">
                                         <swe:Quantity/>
                                     </swe:elementType>
                                 </swe:DataArray>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="newVector">
                                 <swe:Vector definition="urn:ogc:def:data:viewVector">
                                     <swe:coordinate name="x">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="y">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                     <swe:coordinate name="z">
                                         <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                             <swe:uom code="m"/>
                                         </swe:Quantity>
                                     </swe:coordinate>
                                 </swe:Vector>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
                 </sml:ProcessModel>
             </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- Binary arithmeric to determine the delta time for specific frame -->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="BinaryFrameDeltaTime">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="operand1">
                           <swe:Quantity/>
                        </sml:input>
                        <sml:input name="operand2">
                            <swe:Quantity>
                                <swe:value>0.004476275</swe:value>
                            </swe:Quantity>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="result">
                           <swe:Quantity/>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="operator">
                           <swe:Category>
                              <swe:value>multiplication</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
               </sml:ProcessModel>
            </sml:component>
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <!-- Binary arithmeric to add swath start time and frame delta time -->
             <!--~~~~~~~~~~~~~~~~~~~~-->
             <sml:component name="BinaryFrameTime">
                 <sml:ProcessModel>
                     <sml:inputs>
                         <sml:InputList>
                             <sml:input name="operand1">
                                 <swe:Quantity/>
                             </sml:input>
                             <sml:input name="operand2">
                                 <swe:Quantity/>
                             </sml:input>
                         </sml:InputList>
                     </sml:inputs>
                     <sml:outputs>
                         <sml:OutputList>
                             <sml:output name="result">
                                 <swe:Quantity/>
                             </sml:output>
                         </sml:OutputList>
                     </sml:outputs>
                     <sml:parameters>
                         <sml:ParameterList>
                             <sml:parameter name="operator">
                                 <swe:Category>
                                     <swe:value>addition</swe:value>
                                 </swe:Category>
                             </sml:parameter>
                         </sml:ParameterList>
                     </sml:parameters>
                     <sml:method xlink:href="urn:vast:def:process:binaryOperation:1.0"/>
                 </sml:ProcessModel>
             </sml:component>
         </sml:ComponentList>
      </sml:components>
      <!--~~~~~~~~~~~~~-->
      <!-- Connections -->
      <!--~~~~~~~~~~~~~-->
      <sml:connections>
         <sml:ConnectionList>
            <!-- Chain inputs to processes inputs -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/pixel"/>
                   <sml:destination ref="LUTscanAngle/inputs/pixel"/>
               </sml:Link>
            </sml:connection>
             <sml:connection>
                 <sml:Link>
                     <sml:source ref="this/inputs/frame"/>
                     <sml:destination ref="BinaryFrameDeltaTime/inputs/operand1"/>
                 </sml:Link>
             </sml:connection>        
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/swathStartTime"/>
                   <sml:destination ref="BinaryFrameTime/inputs/operand1"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                 <sml:source ref="this/inputs/pointingAngle"/>
                 <sml:destination ref="BinaryAngle/inputs/operand2"/>
               </sml:Link>
             </sml:connection> 
             <!-- Processes outputs to other processes inputs --> 
             <sml:connection>
                 <sml:Link>
                     <sml:source ref="LUTscanAngle/outputs/scanAngle"/>
                    <sml:destination ref="BinaryAngle/inputs/operand1"/>
                 </sml:Link>
             </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="BinaryAngle/outputs/result"/>
                  <sml:destination ref="MatrixBuilderInstrument/inputs/orientation/x"/>
               </sml:Link>
            </sml:connection>
             <sml:connection>
                 <sml:Link>
                     <sml:source ref="MatrixBuilderInstrument/outputs/posMatrix"/>
                     <sml:destination ref="VectorMatrixMultiplier/inputs/transformMatrix"/>
                 </sml:Link>
             </sml:connection>  
            <sml:connection>
               <sml:Link>
                   <sml:source ref="BinaryFrameDeltaTime/outputs/result"/>
                   <sml:destination ref="BinaryFrameTime/inputs/operand2"/>
               </sml:Link>
            </sml:connection>
            <!-- Last processes outputs to chain outputs -->      
            <sml:connection>
               <sml:Link>
                  <sml:source ref="VectorMatrixMultiplier/outputs/newVector"/>
                  <sml:destination ref="this/outputs/Satellite_view_vector"/>
               </sml:Link>
            </sml:connection>   
             <sml:connection>
                 <sml:Link>
                     <sml:source ref="BinaryFrameTime/outputs/result"/>
                    <sml:destination ref="this/outputs/frameTime"/>
                 </sml:Link>
             </sml:connection>  
         </sml:ConnectionList>
      </sml:connections>
     </sml:ProcessChain>
    </sml:component>
    <!--~~~~~~~~~~~~~~~~~~-->
     <!--~~~~~~~~~~~~~~~~~~-->
     <!-- 2nd chain -->
     <!--~~~~~~~~~~~~~~~~~~-->  
     <!--~~~~~~~~~~~~~~~~~~-->
  <sml:component name="HYPERION_generic">
   <sml:ProcessChain>
      <gml:description>
            This process chain transform the satellite view vector into the ECEF view vector.
      </gml:description>
      <!--~~~~~~~~~~~~~~~~~~-->
      <!-- Inputs & Outputs -->
      <!--~~~~~~~~~~~~~~~~~~-->
      <sml:inputs>
         <sml:InputList>
            <sml:input name="Satellite_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector">
                  <swe:coordinate name="x">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                      <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:input>
            <sml:input name="frameTime">
               <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                <swe:uom code="s"/>  
               </swe:Time>
            </sml:input>
         </sml:InputList>
      </sml:inputs>
      <sml:outputs>
         <sml:OutputList>
            <sml:output name="ECEF_location">
               <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>       
            <sml:output name="ECEF_view_vector">
               <swe:Vector definition="urn:ogc:def:data:viewVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                  <swe:coordinate name="x">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="y">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
                  <swe:coordinate name="z">
                     <swe:Quantity>
                        <swe:uom code="m"/>
                     </swe:Quantity>
                  </swe:coordinate>
               </swe:Vector>
            </sml:output>
         </sml:OutputList>
      </sml:outputs>
      <sml:components>
         <sml:ComponentList>    
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <!-- LUT attitude-->
            <!--~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="LUTattitude">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>
                           </swe:Time>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="attitudeAngles">
                           <swe:SimpleDataRecord>
                              <swe:field name="x">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="y">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="z">
                                 <swe:Quantity/>
                              </swe:field>
                           </swe:SimpleDataRecord>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="interpolationMethod">
                           <swe:Category>
                              <swe:value>linear</swe:value>
                           </swe:Category>
                        </sml:parameter>
                        <sml:parameter name="table">
                           <swe:Curve>
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>1</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType>
                                 <swe:SimpleDataRecord>
                                    <swe:field name="julianTime">
                                       <swe:Quantity/>
                                    </swe:field>
                                    <swe:field name="attitudeAngle1">
                                       <swe:Quantity/>
                                    </swe:field>
                                    <swe:field name="attitudeAngle2">
                                       <swe:Quantity/>
                                    </swe:field>
                                    <swe:field name="attitudeAngle3">
                                       <swe:Quantity/>
                                    </swe:field>
                                 </swe:SimpleDataRecord>
                              </swe:elementType>
                              <swe:encoding>
                                 <swe:TextBlock tokenSeparator="," blockSeparator=" " decimalSeparator="."/>
                              </swe:encoding>
                              <swe:values>0.0,0.0,0.0,0.0</swe:values>
                           </swe:Curve>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:LUT1D:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Matrix builder from satellite to orbit with attitude angles -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->                     
            <sml:component name="MatrixBuilderOrbit">
             <sml:ProcessModel>
               <sml:inputs>
                  <sml:InputList>
                     <sml:input name="orientation">
                        <swe:Vector definition="urn:ogc:def:data:orientationVector">
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                               <swe:uom code="rad"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                 <swe:uom code="rad"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:angle">
                                 <swe:uom code="rad"/>
                              </swe:Quantity>
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:input>
                  </sml:InputList>
               </sml:inputs>
               <sml:outputs>
                  <sml:OutputList>
                     <sml:output name="posMatrix">
                        <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                           <swe:elementCount>
                              <swe:Count>
                                 <swe:value>9</swe:value>
                              </swe:Count>
                           </swe:elementCount>
                           <swe:elementType name="element">
                              <swe:Quantity/>
                           </swe:elementType>
                        </swe:DataArray>
                     </sml:output>
                  </sml:OutputList>
               </sml:outputs>
               <sml:method xlink:href="urn:ogc:def:process:pos2Matrix3:1.0"/>
               </sml:ProcessModel>
            </sml:component>    
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Matrix multiplication from satellite referentiel to orbit referentiel -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~-->                    
            <sml:component name="SatelliteVectorOrbitMatrixMultiplier">
            <sml:ProcessModel>
               <sml:inputs>
                  <sml:InputList>  
                     <sml:input name="vector">
                        <swe:Vector definition="urn:ogc:def:data:viewVector">
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                               <swe:uom code="m"/>
                              </swe:Quantity>    
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity> 
                           </swe:coordinate>
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity> 
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:input>            
                     <sml:input name="transformMatrix">
                        <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                           <swe:elementCount>
                              <swe:Count>
                               <swe:value>9</swe:value>  
                              </swe:Count> 
                           </swe:elementCount>
                           <swe:elementType name="element">
                              <swe:Quantity/>
                           </swe:elementType>
                        </swe:DataArray>
                     </sml:input>
                  </sml:InputList>
               </sml:inputs>
               <sml:outputs>
                  <sml:OutputList>
                     <sml:output name="newVector">
                        <swe:Vector definition="urn:ogc:def:data:viewVector">
                           <swe:coordinate name="x">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                               <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="y">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                           <swe:coordinate name="z">
                              <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                 <swe:uom code="m"/>
                              </swe:Quantity>
                           </swe:coordinate>
                        </swe:Vector>
                     </sml:output>
                  </sml:OutputList>
               </sml:outputs>
               <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
              </sml:ProcessModel>
             </sml:component>
            <!--~~~~~~~~~~~~~~-->
            <!-- TLE Provider -->
            <!--~~~~~~~~~~~~~~-->
            <sml:component name="tle">
               <sml:ProcessModel>
                  <!-- METADATA -->
                  <gml:description> Loads TLE data from a TLE data file and outputs the TLE corresponding to the requested time. </gml:description>
                  <!-- INPUTS -->
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>
                           </swe:Time>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <!-- OUTPUTS -->
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="elements">
                           <swe:DataRecord gml:id="TLE_DATA" definition="urn:ogc:def:data:noradElements">
                              <!--id="TLE_DATA"-->
                              <swe:field name="epochYear">
                                 <swe:Quantity>
                                    <swe:uom code="a_g"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="epochDay">
                                 <swe:Quantity>
                                    <swe:uom code="d"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="bstar">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="inclination">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="rightAscension">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="eccentricity">
                                 <swe:Quantity/>
                              </swe:field>
                              <swe:field name="argOfPerigee">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="meanAnomaly">
                                 <swe:Quantity>
                                    <swe:uom code="deg"/>
                                 </swe:Quantity>
                              </swe:field>
                              <swe:field name="meanMotion">
                                 <swe:Quantity>
                                    <swe:uom code="d-1"/>
                                 </swe:Quantity>
                              </swe:field>
                           </swe:DataRecord>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <!-- PARAMETERS -->
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="tleDataUrl">
                           <swe:Category>
                              <swe:value>eo-1.txt</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <!-- METHOD -->
                  <sml:method xlink:href="urn:vast:def:process:tleParser:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~-->
            <!-- SGP4 Propagator -->
            <!--~~~~~~~~~~~~~~~~~-->
            <sml:component name="sgp4">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                           <swe:uom code="s"/>   
                           </swe:Time>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECI_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                  <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                        <sml:output name="ECI_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="elements" xlink:href="#TLE_DATA"/>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:SGP4:1.0"/>
               </sml:ProcessModel>
            </sml:component>            
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Transformation of Velocity Vector from ECI to ECEF -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="eciVelToEcef">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                            <swe:uom code="s"/>  
                           </swe:Time>
                        </sml:input>
                        <sml:input name="ECI_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECEF_velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:eciVelToEcef:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Transformation of Location Vector from ECI to ECEF -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="eciToEcef">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="julianTime">
                           <swe:Time definition="urn:ogc:def:phenomenon:time" referenceFrame="urn:ogc:def:crs:julianTime">
                              <swe:uom code="s"/>  
                           </swe:Time>
                        </sml:input>
                        <sml:input name="ECI_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECI_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="ECEF_location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:eciToEcef:1.0"/>
               </sml:ProcessModel>
            </sml:component>
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <!-- Geocentric Pointing Position -->
            <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
            <sml:component name="nadirPointing">
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>
                        <sml:input name="location">
                           <swe:Vector definition="urn:ogc:def:data:locationVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                        <sml:input name="velocity">
                           <swe:Vector definition="urn:ogc:def:data:velocityVector" referenceFrame="urn:ogc:def:crs:ECEF_wgs84">
                              <swe:coordinate name="x">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity>
                                    <swe:uom code="m/s"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="posMatrix">
                           <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>9</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType name="element">
                                 <swe:Quantity/>
                              </swe:elementType>
                           </swe:DataArray>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:parameters>
                     <sml:ParameterList>
                        <sml:parameter name="upAxis">
                           <swe:Category>
                              <swe:value>Z</swe:value>
                           </swe:Category>
                        </sml:parameter>
                        <sml:parameter name="forwardAxis">
                           <swe:Category>
                              <swe:value>X</swe:value>
                           </swe:Category>
                        </sml:parameter>
                     </sml:ParameterList>
                  </sml:parameters>
                  <sml:method xlink:href="urn:ogc:def:process:nadirPointing3:1.0"/>
               </sml:ProcessModel>
            </sml:component>
               <!--~~~~~~~~~~~~~~~~~~~~~~~-->
               <!-- Matrix multiplication from satellite referentiel to orbit referentiel -->
               <!--~~~~~~~~~~~~~~~~~~~~~~~-->   
            <sml:component name="OrbitVectorECEFMatrixMultiplier">                 
               <sml:ProcessModel>
                  <sml:inputs>
                     <sml:InputList>  
                        <sml:input name="vector">
                           <swe:Vector definition="urn:ogc:def:data:viewVector">
                              <swe:coordinate name="x">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                  <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:input>            
                        <sml:input name="transformMatrix">
                           <swe:DataArray definition="urn:ogc:def:data:positionMatrix">
                              <swe:elementCount>
                                 <swe:Count>
                                    <swe:value>9</swe:value>
                                 </swe:Count>
                              </swe:elementCount>
                              <swe:elementType name="element">
                                 <swe:Quantity/>
                              </swe:elementType>
                           </swe:DataArray>
                        </sml:input>
                     </sml:InputList>
                  </sml:inputs>
                  <sml:outputs>
                     <sml:OutputList>
                        <sml:output name="newVector">
                           <swe:Vector definition="urn:ogc:def:data:viewVector">
                              <swe:coordinate name="x">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="y">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                              <swe:coordinate name="z">
                                 <swe:Quantity definition="urn:ogc:def:phenomenon:distance">
                                    <swe:uom code="m"/>
                                 </swe:Quantity>
                              </swe:coordinate>
                           </swe:Vector>
                        </sml:output>
                     </sml:OutputList>
                  </sml:outputs>
                  <sml:method xlink:href="urn:ogc:def:process:vectorMatrixMultiplication:1.0"/>
                  </sml:ProcessModel>
                </sml:component>
         </sml:ComponentList>
      </sml:components>
      <!--~~~~~~~~~~~~~-->
      <!-- Connections -->
      <!--~~~~~~~~~~~~~-->
      <sml:connections>
         <sml:ConnectionList>
            <!-- Time Input to Processes -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/frameTime"/>
                  <sml:destination ref="tle/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/frameTime"/>
                  <sml:destination ref="sgp4/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/frameTime"/>
                  <sml:destination ref="eciToEcef/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/frameTime"/>
                  <sml:destination ref="eciVelToEcef/inputs/julianTime"/>
               </sml:Link>
            </sml:connection>
            <!-- LUTattitude to matrixbuilderorbit -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="LUTattitude/outputs/attitudeAngles/x"/>
                  <sml:destination ref="MatrixBuilderOrbit/inputs/orientation/x"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="LUTattitude/outputs/attitudeAngles/y"/>
                  <sml:destination ref="MatrixBuilderOrbit/inputs/orientation/y"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="LUTattitude/outputs/attitudeAngles/z"/>
                  <sml:destination ref="MatrixBuilderOrbit/inputs/orientation/z"/>
               </sml:Link>
            </sml:connection>
            <!-- Matrix3_3builderorbit to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="MatrixBuilderOrbit/outputs/posMatrix"/>
                  <sml:destination ref="SatelliteVectorOrbitMatrixMultiplier/inputs/transformMatrix"/>
               </sml:Link>
            </sml:connection>
            <!-- satellite view vector to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="this/inputs/Satellite_view_vector"/>
                  <sml:destination ref="SatelliteVectorOrbitMatrixMultiplier/inputs/vector"/>
               </sml:Link>
            </sml:connection> 
            <!-- TLE to SGP4 -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="tle/outputs/elements"/>
                  <sml:destination ref="sgp4/parameters/elements"/>
               </sml:Link>
            </sml:connection>
            <!-- SGP4 to ECI/ECEF converters -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="sgp4/outputs/ECI_location"/>
                  <sml:destination ref="eciToEcef/inputs/ECI_location"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="sgp4/outputs/ECI_velocity"/>
                  <sml:destination ref="eciVelToEcef/inputs/ECI_velocity"/>
               </sml:Link>
            </sml:connection>
            <!-- ECI/ECEF converters to Geocentric Pointing -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciToEcef/outputs/ECEF_location"/>
                  <sml:destination ref="nadirPointing/inputs/location"/>
               </sml:Link>
            </sml:connection>
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciVelToEcef/outputs/ECEF_velocity"/>
                  <sml:destination ref="nadirPointing/inputs/velocity"/>
               </sml:Link>
            </sml:connection>  
            <!-- orbit view vector to satellite view vector to SatelliteVectorOrbitMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="SatelliteVectorOrbitMatrixMultiplier/outputs/newVector"/>
                  <sml:destination ref="OrbitVectorECEFMatrixMultiplier/inputs/vector"/>
               </sml:Link>
            </sml:connection>      
            <!-- Nadir pointing matrix to orbit view vector to OrbitVectorEcefMatrixMultiplier -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="nadirPointing/outputs/posMatrix"/>
                  <sml:destination ref="OrbitVectorECEFMatrixMultiplier/inputs/transformMatrix"/>
               </sml:Link>
            </sml:connection> 
            <!-- last processes outputs to chain outputs -->
            <sml:connection>
               <sml:Link>
                  <sml:source ref="OrbitVectorECEFMatrixMultiplier/outputs/newVector"/>
                  <sml:destination ref="this/outputs/ECEF_view_vector"/>
               </sml:Link>
            </sml:connection> 
            <sml:connection>
               <sml:Link>
                  <sml:source ref="eciToEcef/outputs/ECEF_location"/>
                  <sml:destination ref="this/outputs/ECEF_location"/>
               </sml:Link>
            </sml:connection> 
         </sml:ConnectionList>
      </sml:connections>
   </sml:ProcessChain>
  </sml:component>  
  </sml:ComponentList>
 </sml:components>
   <!--~~~~~~~~~~~~~-->
   <!-- Connections -->
   <!--~~~~~~~~~~~~~-->
   <sml:connections>
      <sml:ConnectionList>     
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/frame"/>
               <sml:destination ref="HYPERION_specific/inputs/frame"/>
            </sml:Link>
         </sml:connection>          
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/pixel"/>
                <sml:destination ref="HYPERION_specific/inputs/pixel"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/swathStartTime"/>
                <sml:destination ref="HYPERION_specific/inputs/swathStartTime"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="this/inputs/pointingAngle"/>
               <sml:destination ref="HYPERION_specific/inputs/pointingAngle"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
                <sml:source ref="HYPERION_specific/outputs/frameTime"/>
                <sml:destination ref="HYPERION_generic/inputs/frameTime"/>
            </sml:Link>
         </sml:connection>  
          <sml:connection>
              <sml:Link>
                  <sml:source ref="HYPERION_specific/outputs/Satellite_view_vector"/>
                  <sml:destination ref="HYPERION_generic/inputs/Satellite_view_vector"/>
              </sml:Link>
          </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="HYPERION_generic/outputs/ECEF_location"/>
               <sml:destination ref="this/outputs/geolocationData/ECEF_location"/>
            </sml:Link>
         </sml:connection>  
         <sml:connection>
            <sml:Link>
               <sml:source ref="HYPERION_generic/outputs/ECEF_view_vector"/>
               <sml:destination ref="this/outputs/geolocationData/ECEF_view_vector"/>
            </sml:Link>
         </sml:connection>  
      </sml:ConnectionList>
  </sml:connections>    
 </sml:ProcessChain>
    </sml:member>      
</sml:SensorML>

